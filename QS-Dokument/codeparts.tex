\section{Quellcodeauszug}

\definecolor{deepblue}{rgb}{0,0,0.5}
\definecolor{deepred}{rgb}{0.6,0,0}
\definecolor{deepgreen}{rgb}{0,0.5,0}
\definecolor{string-color}{rgb}{0.901, 0.290, 0.098}

\lstset
{
    language=Python,
    basicstyle=\footnotesize,
    otherkeywords={self},             % Add keywords here
    keywordstyle=\color{deepblue},
    commentstyle=\color{string-color},
    emph={MyClass,__init__},          % Custom highlighting
    emphstyle=\color{deepred},    % Custom highlighting style
    stringstyle=\color{deepgreen},
    numbers=left,
    stepnumber=1,
    tabsize=2,
    breaklines=true,
}

Das von uns verwendete Webframework erlaubt die funktionale und objektorientierte Programmierung. Wir haben uns für die funktionale Programmierung
entschieden, weswegen wir drei Module (anstatt drei Klassen) angehängt haben, die repräsentativ für die meisten
anderen Module des Projekts stehen.

\subsection{Das Modul Api.py}
%Description
Das Modul Api.py enthält Funktionen, die sich um die Anfragen an die REST API kümmern.
Da das Webinterface seine Anfragen direkt an die REST API sendet, ist diese Modul ein essentieller
Bestandteil des Backends.
\lstinputlisting[language=Python]{api.py}

\subsection{Das Modul Consumers.py}
Da sowohl für die Kommunikation zwischen Clients und Master als auch zwischen Browser und
Master \textit{websockets}\footnote{\url{https://tools.ietf.org/html/rfc6455}} verwendet werden,
ist die Behandlung von eingehenden Websocketrequests ein zentraler Bestandteil. Dies ist die
Aufgabe des Moduls "`consumer.py"', welches als erste Instanz Nachrichten an den Master annimmt und
weiter verteilt.

\lstinputlisting[language=Python]{consumers.py}

\subsection{Das Modul Controller.py}
Die Steuerung der angeschlossenen Clients ist einer der Hauptaufgaben des Masters, da die komplette
Ausführungslogik nur hier ausgeführt wird. Um weitere Komponenten der Mastersoftware, vorrangig den Viewmodulen, die Arbeit mit den
Clients zu erleichtern, wurden die möglichen Aktionen im "`controller.py"'-Modul implementiert. Dort können
sie von allen Stellen im Code des Masterservers einfach aufgerufen werden. Dies entspricht dem Model-View-Controler Konzept.

\lstinputlisting[language=Python]{controller.py}
